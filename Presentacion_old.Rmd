---
title:
author: "Daniel Morillo"
date: "`r format(lubridate::today(), '%d de %B de %Y')`"
output:
  revealjs::revealjs_presentation:
    transition: slide
    transitionSpeed: slow
    theme: solarized
    incremental: true
    fig_width: 7
    fig_height: 4.5
    fig_caption: false
    self_contained: false
    reveal_plugins: ["notes"]
editor_options:
  chunk_output_type: console
---

```{r setup, include=FALSE}

library(tidyverse)
library(magrittr)
library(htmltools)
library(crosstalk)
library(DT)

source("R/Rmarkdown_code.R", encoding = 'UTF-8')

knitr::opts_chunk$set(
  cache = FALSE, results = 'asis',
  message = FALSE, warning = FALSE, echo = FALSE
)

knitr::read_chunk(lines = readLines("R/Presentacion.R", encoding = 'UTF-8'))

```

https://github.com/rstudio/crosstalk

http://rstudio.github.io/crosstalk/using.html

https://plotly-book.cpsievert.me/

http://rstudio.github.io/crosstalk/authoring.html



## {data-background="www/********************.jpg" data-background-position='50% 80%' data-background-size='50% auto' data-background-transition='slide'}

```{r title}

tags$style(
  type = "text/css",
  ".reveal p {
    text-align: left;
  }
  .reveal ul {
    display: block;
  }"
)

h1("Modelos de TRI para cuestionarios de elección forzosa")
br()

```

### Tesis doctoral enviada para la obtención del título de Doctor en Psicología Clínica y de la Salud

#### Por: Daniel Morillo
#### Supervisores: Francisco José Abad, Iwin Leenen
#### Tutor: Vicente Ponsoda

```{r date}

br()
lubridate::today() %>% format('%d de %B de %Y') %>% h5

```


Notes:

Buenos días.
Ante todo quisiera a gradecer a los miembros del tribunal que hayan aceptado
evaluar el trabajo de mi tesis y estar hoy presentes para emitir su juicio
experto sobre ella, y a todas las personas presentes por estar aquí y darme la
oportunidad de exponer públicamente los resultados de mi investigación
predoctoral.



---

```{r introduction}

main_layout("Introducción")

```


## Cuestionarios de autoinforme {data-transition="slide-in fade-out"}

```{r sample_GS_items}

AG_SAMPLE_ITEM <- "Me intereso por la gente"
ES_SAMPLE_ITEM <- "Estoy relajado la mayor parte del tiempo"

br()
h4(AG_SAMPLE_ITEM)
render_response_scale()

br()
h4(ES_SAMPLE_ITEM)
render_response_scale()

br()
p(
  style = "font-size:0.6em",
  "Fuente: ",
  a(
    href = "https://ipip.ori.org/SpanishBig-FiveFactorMarkers.htm",
    "International Personality Item Pool"
  )
)

```


## Cuestionarios de autoinforme {data-transition="fade-in slide-out"}

```{r response_bias, dependson="sample_GS_items"}

br()
h2(em("Sesgos de respuesta"))

```


## El formato de elección forzosa {data-transition="slide-in fade-out"}

```{r FC_block_sample}

br()
h4("Marque la opción con la que más se identifique:")
render_FC_block(AG_SAMPLE_ITEM, ES_SAMPLE_ITEM)

## TODO: Imagen de balanza

```


Notes:

Una de las soluciones que se ha propuesto a este problema es utilizar
cuestionarios de elección forzosa.
Aquí se muestra un ejemplo de formato de respuesta de este tipo de instrumentos.
En este formato, la persona evaluada tiene que elegir una de las dos opciones
de respuesta, con la que se identifique más, mejor represente su preferencia,
actitud, opinión, etc.
A cada opción la denominamos "ítem", y al elemento de respuesta formado por el
par de ítems, "bloque".

En un ejemplo como este, la puntuación que la persona tendrá en un rasgo, de
acuerdo a la Teoría Clásica de Tests, será el número de bloques en los que ha
elegido el ítem que mide ese rasgo.
Esto sin embargo tiene algunos problemas que veremos en el ejemplo a
continuación.


## Formato de Elección Forzosa: puntuación clásica {data-transition="fade-in slide-out"}

```{r respondents_latent_sapce}

RESPONDENTS <- tibble(
  ID = LETTERS[1:3],
  Ag = c(2.5, -2.5,  1.7),
  ES = c(2.5, -2.5, -1.7)
)

RESPONDENTS %>% ggplot(mapping = aes(Ag, ES, label = ID)) +
  geom_point(shape = 22)

```


Notes:

Imaginemos un cuestionario de elección forzosa con 20 bloques, en el que cada
bloque mide los dos rasgos anteriores: "Amabilidad" y "Estabilidad Emocional",
cada uno con diferentes ítems, que muestran afirmaciones relacionadas con estos
dos aspectos de la personalidad.

En este ejemplo, la persona A tiene unos niveles muy altos en los dos rasgos,
tanto en "Amabilidad" como en "Estabilidad Emocional".
Sin embargo, sus niveles están equilibrados.
Por lo tanto, podemos esperar que elija ítems de "Amabilidad" y de
"Estabilidad Emocional" aproximadamente el mismo número de veces.
Si tuviésemos un test de 20 ítems, supongamos que elige 10 veces cada uno de
ellos.

La persona B, por otro lado, tiene niveles muy bajos en ambos rasgos, pero
también están equilibrados.
Por tanto, también elegirá 10 veces el ítem de "Amabilidad" y otras 10 el de
"Estabilidad Emocional".

Por último, la persona C, es bastante "Amable", aunque menos que la persona A,
pero sin embargo es muy lábil emocionalmente, aunque no tanto como la persona B.
Ahora bien, dado su desequilibrio entre estos dos rasgos, su tendencia va a ser
a elegir el ítem de "Amabilidad" en lugar del de "Estabilidad Emocional".
Supongamos que lo elige en 15 de los 20 bloques. En los 5 restantes, elige el
ítem de "Estabilidad Emocional".


## En qué consiste


## Ventajas (aducidas)

- Control de los sesgos de respuesta

  
## Controversia

- Control de sesgos

- Ipsatividad


# Aplicación de la TRI al formato de elección forzosa multidimensional


## Modelos

- TIRT

- MUPP

- Otros


# Justificación {data-transition="fade"}


## Propuesta del modelo MUPP-2PL


## Estudios

- Estudio 1

- Estudio 2

- Estudio 3


# Propuesta del modelo MUPP-2PL


## Formulación


## Propiedades

- Indeterminación de los parámetros de posición de los ítems

- Indeterminación rotacional para $D = 2$

- Indeterminación empírica

- Equivalencia de parámetros con ítems en formato dicotómico


## Parámetros multidimensionales


## Representación gráfica

- Superficio de respuesta al bloque

- Representación vectorial

- Polaridad

- Bloques unidimensionales:
  - Equivalencia con el modelo 2PL
  - Indeterminación del parámetro de escala
  - Justificación para no usarlos


## Relación con otros modelos de dominancia

- TIRT

- MCLM


# Propuesta de estimación Bayesiana


## Ventajas (e inconvenientes)


## Descripción del algoritmo

- Restricciones de identificación (distribuciones previas)
  - Parámetros incidentales
  - Parámetros estructurales
    - Ítems
    - Correlaciones latentes
    
- Inicialización

- Iteración "M-H dentro de Gibbs":
Permite reducir la dimensionalidad de cada iteración


# Objetivos


## Estudio 1

- Estudiar la esimación del modelo
  - Estimación Bayesiana
  - Condiciones favorables y desfavorables
    - Proporción de bloques heteropolares
    - Sin bloques unidimensionales
    
- Comparar con estimación factorial propuesta para el modelo TIRT

- Poner a prueba estimación con datos empíricos


## Estudio 2

- Determinar las condiciones óptimas para diseñar FCQs resistentes a los sesgos

- Comprobar y diagnosticar las propiedades del modelo ante dichas condiciones

- Poner a prueba la estimación del modelo en condiciones críticas, dado el
diseño óptimo


## Estudio 3

- Comprobar el supuesto de invarianza de los parámetros del modelo MUPP-2PL



<h4>Árbol de desagregación</h4>
<br>
```{r ********************, dependson="********************", results='asis'}
```


## ******************** {data-transition="fade"}

<h4>********************</h4>
<br>
<center>
```{r ********************, dependson="********************"}

```
</center>


## ******************** {data-transition="fade-in slide-out"}



##

<br>
<br>
<br>
<h1>********************</h1>


## ******************** {data-transition="slide-in fade-out"}

### ********************

> - 

> - 


## ******************** {data-transition="slide-in none-out"}


## Gracias por su atención {data-background="www/********************.jpg" data-background-position='50% 70%' data-background-size='50% auto' data-background-transition='slide'}

### Daniel Morillo (2018)
